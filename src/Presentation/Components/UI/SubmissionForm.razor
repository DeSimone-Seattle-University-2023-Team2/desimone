@using Application.Entities
@inject NavigationManager Navigation

<h3>SubmissionForm</h3>

<div class="row">
    <div class="col-md-4">
        <EditForm Model="@Job" OnValidSubmit="@Submit" FormName="create-job-form">
            <DataAnnotationsValidator />
            <ValidationSummary />
            <div class="form-group mb-3">
                <label for="Maker" class="control-label">Name</label>
                <InputText @bind-Value="Job!.Name" class="form-control" id="Name"/>
            </div>
            <div class="form-group mb-3">
                <input type="submit" value="Create" class="btn btn-primary"/>
            </div>
        </EditForm>
    </div>
</div>

@code {
    [SupplyParameterFromForm]
    public Job? Job { get; set; }
    protected override void OnInitialized() => Job ??= new();
    
    private void Submit()
    {
        Navigation.NavigateTo("monitoring", true);
    }
}